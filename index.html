<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menüsystem</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Hintergrundbild -->
    <div id="background"></div>

    <!-- Menü 1 -->
    <div id="menu-1" class="menu">
        <button class="menu-button" onclick="goToMenu(14)">Menü 14</button>
        <button class="menu-button" onclick="goToMenu(141)">Jetzt schlafen</button>
    </div>

    <!-- Menü 14 -->
    <div id="menu-14" class="menu">
        <button class="menu-button" onclick="goBack()">Zurück</button>
        <button class="menu-button display-only">Energie</button>
        <button class="menu-button display-only">Gesundheit</button>
        <button class="menu-button" onclick="goToMenu(141)">Jetzt schlafen</button>
    </div>

    <!-- Menü 141 - Schlaf Fortschritt -->
    <div id="menu-141">
        <div id="sleep-bar">
            <span id="sleep-progress">Schlafen…</span>
        </div>
    </div>

    <!-- Statusbalken für Energie und Gesundheit -->
    <div id="status-bars">
        <div id="health-bar" class="bar">
            <span>Gesundheit</span>
        </div>
        <div id="energy-bar" class="bar">
            <span>Energie</span>
        </div>
    </div>

    <!-- Inventar -->
    <div id="inventory">
        <h2>Inventar</h2>
        <p>Items: 0</p>
    </div>

    <!-- Tages Zähler -->
    <div id="day-counter">
        <h2>Tag: 1</h2>
    </div>

    <script>
        let currentMenu = 1;
        let dayCount = 1;
        let sleepProgress = 0;
        
        // Funktion um zum nächsten Menü zu springen
        function goToMenu(menuNumber) {
            document.getElementById(`menu-${currentMenu}`).classList.add("hidden");
            currentMenu = menuNumber;
            document.getElementById(`menu-${currentMenu}`).classList.remove("hidden");

            // Schlafen Logik in Menü 141
            if (menuNumber === 141) {
                startSleepProgress();
            }
        }

        // Zurück-Funktion
        function goBack() {
            document.getElementById(`menu-${currentMenu}`).classList.add("hidden");
            currentMenu = 1;
            document.getElementById(`menu-${currentMenu}`).classList.remove("hidden");
        }

        // Funktion für den Schlafbalken in Menü 141
        function startSleepProgress() {
            const sleepBar = document.getElementById("sleep-bar");
            const sleepProgressSpan = document.getElementById("sleep-progress");

            let progressInterval = setInterval(function() {
                sleepProgress += 1;
                sleepBar.style.width = sleepProgress + "%";
                sleepProgressSpan.textContent = "Schlafen… " + sleepProgress + "%";

                if (sleepProgress >= 100) {
                    clearInterval(progressInterval);
                    goBack(); // Zurück zu Menü 1 nach 3 Sekunden
                    dayCount++; // Tag erhöhen
                    document.getElementById("day-counter").innerHTML = `<h2>Tag: ${dayCount}</h2>`;
                }
            }, 30); // 3 Sekunden für den Balken
        }

        // Start Menü anzeigen
        goToMenu(1);
    </script>

</body>
</html>
